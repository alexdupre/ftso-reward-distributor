# FTSO Fee/Reward Distributor

A set of smart contracts to automate the distribution of the fees generated by the FTSO providers. The primary use case is to simplify the work of the FTSO providers, that every epoch need to claim the fee, fund the provider's addresses with the gas needed for submit/reveal transactions, and wrap the remaining for compounding rewards, but it can be used by anyone that has similar needs.

A provider can instantiate a new smart contract where to claim the rewards to, by calling the `create` function of the `RewardDistributorFactory` contract, and by parsing the generated `Created` event to get the new instance address. It's not necessary to use the provider's private key to sign the transaction.

The parameters to be passed are:
- `operatingAddresses`: an array of addresses that need to be monitored to maintain their balances within a defined range
- `lowReserves`: an array of low balance thresholds (in wei), one for each operating account defined above, under which the account will be topped up
- `highReserves`: an array of balances (in wei), one for each operating account defined above, with the desired balance after the top-up
- `recipients`: an array of addresses, where the fees/rewards will be sent to, in different percentages
- `bips`: an array of basis points, corresponding to the different shares for each recipient; it has to have the same length as the recipient array and the sum must be 10000 (100.00%)
- `wrap`: an array of booleans, to specify if the corresponding fee share needs to be wrapped (for auto-delegation) or not
- `editable`: a boolean to allow successive modification of the operating addresses and recipients
- `description`: an optional string to identify the contract, useful for a management UI

The newly generated address has to be used as the `recipient` of the `FtsoRewardManager.claim` and/or `RewardManager.claim` functions. During the fee distribution the smart contract emits specific events for each performed transfer, that can be used for accounting purposes.

## Deployments

`RewardDistributorFactory`
| Chain    | Address                                      |
|----------| -------------------------------------------- |
| Coston   | [0xD85e492320EC49c5616CCc77d59Af029CC1DcE76](https://coston-explorer.flare.network/address/0xD85e492320EC49c5616CCc77d59Af029CC1DcE76) |
| Coston2  | [0xE4200d40783B7e08a25a71C767792A8b564A54C9](https://coston2-explorer.flare.network/address/0xE4200d40783B7e08a25a71C767792A8b564A54C9) |
| Songbird | [0xC1094a31BF6b23CB7F5bAf7eA09949EE4c6C1DB0](https://songbird-explorer.flare.network/address/0xC1094a31BF6b23CB7F5bAf7eA09949EE4c6C1DB0) |
| Flare    | [0xD85e492320EC49c5616CCc77d59Af029CC1DcE76](https://flare-explorer.flare.network/address/0xD85e492320EC49c5616CCc77d59Af029CC1DcE76) |