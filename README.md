# FTSO Fee/Reward Distributor

A set of smart contracts to automate the distribution of the fees generated by the FTSO providers. The primary use case is to simplify the work of the FTSO providers, that every epoch need to claim the fee, fund the provider's addresses with the gas needed for submit/reveal transactions, and wrap the remaining for compounding rewards, but it can be used by anyone that has similar needs.

A provider can instantiate a new smart contract where to claim the rewards to, by calling the `create` function of the `RewardDistributorFactory` contract, and by parsing the generated `Created` event to get the new instance address. It's not necessary to use the provider's private key to sign the transaction.

The parameters to be passed are:
- `providerAddresses`: an array of addresses used by the FTSO provider, to maintain a minimum balance
- `reserveBalances`: an array of desired balances (in wei), one for each provider's account defined above, they'll be refilled to match the value, if necessary
- `recipients`: an array of addresses, where the provider's fee will be sent to, in different percentages
- `bips`: an array of basis points, corresponding to the different shares for each recipient; it has to have the same length as the recipient array and the sum must be 10000 (100.00%)
- `wrap`: an array of booleans, to specify if the corresponding fee share needs to be wrapped (for auto-delegation) or not
- `editable`: a boolean to allow successive modification of the reserveBalance, recipients and bips
- `description`: an optional string to identify the contract, useful for a management UI

The newly generated address has to be used as the `recipient` of the `FtsoRewardManager.claim` and/or `RewardManager.claim` functions. During the fee distribution the smart contract emits specific events for each performed transfer, that can be used for accounting purposes.

## Deployments

`RewardDistributorFactory`
| Chain    | Address                                      |
|----------| -------------------------------------------- |
| Coston   | [0xc035AE1e2929290042f6593e572b7190049954BA](https://coston-explorer.flare.network/address/0xc035AE1e2929290042f6593e572b7190049954BA) |
| Coston2  | [0x026f603FD318d60E6C68351d6172244f3C4F6dC6](https://coston2-explorer.flare.network/address/0x026f603FD318d60E6C68351d6172244f3C4F6dC6) |
| Songbird | [0xe2Fb678bC1Bd259a2F5d7792F7dDD6Ecb53fa9ca](https://songbird-explorer.flare.network/address/0xe2Fb678bC1Bd259a2F5d7792F7dDD6Ecb53fa9ca) |
| Flare    | [0xc2826E4Ed912fB1EAC94c2Ce97e4111780Cd85be](https://flare-explorer.flare.network/address/0xc2826E4Ed912fB1EAC94c2Ce97e4111780Cd85be) |