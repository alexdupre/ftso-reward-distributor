# FTSO Fee/Reward Distributor

A set of smart contracts to automate the distribution of the fees generated by the FTSO providers. The primary use case is to simplify the work of the FTSO providers, that every epoch need to claim the fee, fund the provider's address with the gas needed for submit/reveal transactions, and wrap the remaining for compounding rewards, but it can be used by anyone that has similar needs.

A provider can instantiate a new smart contract where to claim the rewards to, by calling the `create` function of the `RewardDistributorFactory` contract, and by parsing the generated `Created` event to get the new instance address. It's not necessary to use the provider's private key to sign the transaction.

The parameters to be passed are:
- `provider`: the address of the FTSO provider, used to maintain a minimum balance
- `reserveBalance`: the desired balance (in wei) of the provider's account, it'll be refilled to match the value, if necessary
- `recipients`: an array of addresses, where the provider's fee will be sent to, in different percentages
- `bips`: an array of basis points, corresponding to the different shares for each recipient; it has to have the same length as the recipient array and the sum must be 10000 (100.00%)
- `wrap`: an array of booleans, to specify if the corresponding fee share needs to be wrapped (for auto-delegation) or not

The newly generated address has to be used as the `recipient` of the `FtsoRewardManager.claimReward` function. During the fee distribution the smart contract emits specific events for each performed transfer, that can be used for accounting purposes.

## Deployments

`RewardDistributorFactory`
- Coston: [0x171eB1f854A7e542D88d6f6fb8827C83236C1937](https://coston-explorer.flare.network/address/0x171eB1f854A7e542D88d6f6fb8827C83236C1937)
- Songbird: [0xc98fbA33De5DC14f691aa4Ad3dEA047c0C1a3886](https://songbird-explorer.flare.network/address/0xc98fbA33De5DC14f691aa4Ad3dEA047c0C1a3886)